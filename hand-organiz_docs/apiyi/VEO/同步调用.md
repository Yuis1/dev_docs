# åŒæ­¥è°ƒç”¨

VEO 3.1 æ”¯æŒåŒæ­¥è°ƒç”¨æ–¹å¼ï¼Œä½¿ç”¨å¯¹è¯è¡¥å…¨æ¥å£ `/v1/chat/completions`ï¼Œé€‚åˆéœ€è¦å®æ—¶äº¤äº’çš„åœºæ™¯ã€‚

æ‰€æœ‰ API è¯·æ±‚éƒ½éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­åŒ…å« API å¯†é’¥ï¼š

```
Authorization: sk-your-api-key
```

## ç¤ºä¾‹ 1ï¼šæ–‡ç”Ÿè§†é¢‘

æœ€ç®€å•çš„æ–¹å¼ï¼Œä½¿ç”¨æ–‡æœ¬æè¿°ç”Ÿæˆè§†é¢‘ï¼š

```
curl --location --request POST 'https://api.apiyi.com/v1/chat/completions' \
--header 'Content-Type: application/json' \
--header 'Authorization: sk-your-api-key' \
--data-raw '{
    "messages": [{"role": "user", "content": "ç”»åªçŒªåœ¨å¤©ä¸Šé£"}],
    "model": "veo-3.1",
    "stream": true,
    "n": 2
}'
```


### å‚æ•°è¯´æ˜

|    å‚æ•°    |   ç±»å‹    | å¿…å¡« |        è¯´æ˜         |
|----------|---------|-----|-------------------|
| `messages` |  array  | æ˜¯  |  å¯¹è¯æ¶ˆæ¯æ•°ç»„ï¼ŒåŒ…å«ç”¨æˆ·çš„æç¤ºè¯  |
|  `model`   | string  | æ˜¯  | ä½¿ç”¨çš„æ¨¡å‹åç§°ï¼Œå¦‚ `veo-3.1` |
|  `stream`  | boolean | å¦  | æ˜¯å¦å¼€å¯æµå¼è¾“å‡ºï¼Œé»˜è®¤ false |
|    `n`     | integer | å¦  | ç”Ÿæˆè§†é¢‘æ•°é‡ï¼Œé»˜è®¤ 1ï¼Œæœ€å¤§ 4  |

## ç¤ºä¾‹ 2ï¼šå¸§è½¬è§†é¢‘ï¼ˆFrame-to-Videoï¼‰

ä½¿ç”¨ä¸€å¼ æˆ–ä¸¤å¼ å›¾ç‰‡ä½œä¸ºå…³é”®å¸§ç”Ÿæˆè§†é¢‘ï¼š

```
curl --location --request POST 'https://api.apiyi.com/v1/chat/completions' \
--header 'Content-Type: application/json' \
--header 'Authorization: sk-your-api-key' \
--data-raw '{
    "messages": [{
        "role": "user",
        "content": [
            {
                "type": "text",
                "text": "æ ¹æ®ä¸¤å¼ å›¾ç‰‡ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„è¿‡æ¸¡è§†é¢‘"
            },
            {
                "type": "image_url",
                "image_url": {
                    "url": "å¼€å§‹å¸§å›¾ç‰‡URLæˆ–base64"
                }
            },
            {
                "type": "image_url",
                "image_url": {
                    "url": "ç»“æŸå¸§å›¾ç‰‡URLæˆ–base64ï¼ˆå¯é€‰ï¼‰"
                }
            }
        ]
    }],
    "model": "veo-3.1-landscape-fast-fl",
    "stream": true,
    "n": 1
}'
```

### å›¾ç‰‡å‚æ•°è¯´æ˜
å¼€å§‹å¸§å›¾ç‰‡ï¼šå¿…ä¼ ï¼Œä»…é™ä¸€å¼ 
ç»“æŸå¸§å›¾ç‰‡ï¼šå¯é€‰ï¼Œå¦‚æœä¸ä¼ åˆ™è‡ªåŠ¨ç”Ÿæˆè¿‡æ¸¡æ•ˆæœ
å›¾ç‰‡æ ¼å¼ï¼šæ”¯æŒ URL æˆ– base64 ç¼–ç 

## æµå¼å“åº”è¯´æ˜

å¼€å¯æµå¼è¾“å‡ºåï¼ˆ`stream: true`ï¼‰ï¼Œç³»ç»Ÿä¼šå®æ—¶è¿”å›ç”Ÿæˆè¿›åº¦å’Œç»“æœï¼š

### å“åº”ç¤ºä¾‹

```
data: {"id":"foaicmpl-xxx","object":"chat.completion.chunk","created":1762181811,"model":"veo-3.1-fast","choices":[{"index":0,"delta":{"role":"assistant"},"finish_reason":null}]}

data: {"id":"foaicmpl-xxx","object":"chat.completion.chunk","created":1762181811,"model":"veo-3.1-fast","choices":[{"index":0,"delta":{"content":"```json\n{\n    \"prompt\": \"ç”»åªçŒªåœ¨å¤©ä¸Šé£\",\n    \"mode\": \"ç«–å±æ¨¡å¼\"\n}\n```\n\n"},"finish_reason":null}]}

data: {"id":"foaicmpl-xxx","object":"chat.completion.chunk","created":1762181811,"model":"veo-3.1-fast","choices":[{"index":0,"delta":{"content":"> âŒ›ï¸ è§†é¢‘æ­£åœ¨ç”Ÿæˆä¸­ï¼Œè¯·è€å¿ƒç­‰å¾…...\n\n"},"finish_reason":null}]}

data: {"id":"foaicmpl-xxx","object":"chat.completion.chunk","created":1762181811,"model":"veo-3.1-fast","choices":[{"index":0,"delta":{"content":"> ğŸƒ è¿›åº¦ï¼š9.0%\n\n"},"finish_reason":null}]}

data: {"id":"foaicmpl-xxx","object":"chat.completion.chunk","created":1762181811,"model":"veo-3.1-fast","choices":[{"index":0,"delta":{"content":"> ğŸƒ è¿›åº¦ï¼š18.0%\n\n"},"finish_reason":null}]}

...

data: {"id":"foaicmpl-xxx","object":"chat.completion.chunk","created":1762181811,"model":"veo-3.1-fast","choices":[{"index":0,"delta":{"content":"> ğŸƒ è¿›åº¦ï¼š90.2%\n\n"},"finish_reason":null}]}

data: {"id":"foaicmpl-xxx","object":"chat.completion.chunk","created":1762181811,"model":"veo-3.1-fast","choices":[{"index":0,"delta":{"content":"> âœ… ç¬¬1ä¸ªè§†é¢‘ç”ŸæˆæˆåŠŸï¼Œ[ç‚¹å‡»è¿™é‡Œ](https://veo-video.gptkey.asia/assets/flow/xxx.mp4) æŸ¥çœ‹è§†é¢‘~~~\n\n"},"finish_reason":null}]}

data: {"id":"foaicmpl-xxx","object":"chat.completion.chunk","created":1762181811,"model":"veo-3.1-fast","choices":[{"index":0,"delta":{},"finish_reason":"stop"}],"usage":{"prompt_tokens":16,"completion_tokens":292,"total_tokens":308}}

data: [DONE]
```